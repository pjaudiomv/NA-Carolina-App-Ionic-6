{"version":3,"file":"src_app_pages_list_list_module_ts.js","mappings":"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","sources":["./src/app/pages/list/list-routing.module.ts","./src/app/pages/list/list.module.ts","./src/app/pages/list/list.page.ts","./src/app/pages/list/list.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListPage } from './list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { ListPageRoutingModule } from './list-routing.module';\nimport { ListPage } from  './list.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { InAppBrowser } from '@awesome-cordova-plugins/in-app-browser/ngx';\nimport { MeetingListProviderService } from '../../services/meeting-list-provider.service';\nimport { ServiceGroupsProviderService } from '../../services/service-groups-provider.service';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\nimport { ComponentModule } from '../../components/component/component.module';\nimport { HTTP } from '@awesome-cordova-plugins/http/ngx';\nimport { StorageService } from '../../services/storage.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    PipesModule,\n    ListPageRoutingModule,\n    ComponentModule\n  ],\n  declarations: [\n    ListPage\n  ],\n  providers: [\n    InAppBrowser,\n    MeetingListProviderService,\n    ServiceGroupsProviderService,\n    HTTP,\n    StorageService\n  ]\n})\nexport class ListPageModule {}\n","import { Component } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { StorageService } from '../../services/storage.service';\nimport { LoadingService } from '../../services/loading.service';\nimport { ServiceGroupsProviderService } from '../../services/service-groups-provider.service';\nimport { MeetingListProviderService } from '../../services/meeting-list-provider.service';\nimport { InAppBrowser } from '@awesome-cordova-plugins/in-app-browser/ngx';\nimport { firstBy } from 'thenby';\n\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.page.html',\n  styleUrls: ['./list.page.scss'],\n})\nexport class ListPage {\n\n  serviceGroups: any;\n  serviceGroupHierarchy: any = [];\n  meetingListCounties;\n  uniqueCounties;\n  shownDay = null;\n  shownGroupL1 = null;\n  shownGroupL2 = null;\n  shownGroupL3 = null;\n  shownGroupL4 = null;\n  HTMLGrouping = 'counties';\n  loader = null;\n  meetingListArea: any = [];\n  meetingListCounty: any = [];\n  areaName: any = '';\n  countyName: any = '';\n  isLoaded = false;\n\n  constructor(\n    private meetingListProvider: MeetingListProviderService,\n    private serviceGroupsProvider: ServiceGroupsProviderService,\n    private loaderCtrl: LoadingService,\n    private translate: TranslateService,\n    private storage: StorageService,\n    private iab: InAppBrowser) {\n\n    this.translate.get('FINDING_MTGS').subscribe(value => { this.presentLoader(value); })\n\n    this.meetingListProvider.getCounties().subscribe((data) => {\n\n      if (JSON.stringify(data) === '{}') {  // empty result set!\n        this.meetingListArea = JSON.parse('[]');\n      } else {\n        this.meetingListCounties = data;\n        console.log(this.meetingListCounties);\n        this.isLoaded = true;\n        for (let i = 0; i < this.meetingListCounties.length; i++) {\n          if (this.meetingListCounties[i].location_sub_province == \"\") {\n            console.log(\"Found a virt mtg\");\n            this.meetingListCounties[i].location_sub_province = \"Online\";\n          }\n        }\n        this.uniqueCounties =( [...new Set(this.meetingListCounties.map(({location_sub_province})=>location_sub_province))]);\n      }\n      this.dismissLoader();\n    });\n\n  }\n\n  getMeetingsByCounty(countyName) {\n    this.translate.get('FINDING_MTGS').subscribe(value => { this.presentLoader(value); });\n    this.HTMLGrouping = 'meetings';\n    this.countyName = countyName;\n    this.meetingListProvider.getAllMeetings().subscribe((data) => {\n\n      if (JSON.stringify(data) === '{}') {  // empty result set!\n        this.meetingListCounty = JSON.parse('[]');\n      } else {\n        this.meetingListCounty = data;\n        if (countyName == \"Online\") {\n          this.meetingListCounty = this.meetingListCounty.filter(meeting => meeting.location_sub_province == \"\");\n        } else {\n          this.meetingListCounty = this.meetingListCounty.filter(meeting => meeting.location_sub_province == countyName);\n        }\n        this.isLoaded = true;\n      }\n      this.dismissLoader();\n    });\n  }\n\n  presentLoader(loaderText: any) {\n    if (!this.loader) {\n      this.loader = this.loaderCtrl.present(loaderText);\n    }\n  }\n\n  dismissLoader() {\n    if (this.loader) {\n      this.loader = this.loaderCtrl.dismiss();\n      this.loader = null;\n    }\n  }\n\n  showCountyStructure() {\n    this.HTMLGrouping = 'counties';\n    this.countyName = '';\n    this.shownDay = null;\n  }\n\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ionicon {\\n  margin-end: 5px !important;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/list/list.page.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,0BAAA;AACJ\",\"sourcesContent\":[\".ionicon {\\n    margin-end: 5px !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","ListPage","routes","path","component","ListPageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","IonicModule","TranslateModule","InAppBrowser","MeetingListProviderService","ServiceGroupsProviderService","PipesModule","ComponentModule","HTTP","StorageService","ListPageModule","declarations","providers","Component","TranslateService","LoadingService","constructor","meetingListProvider","serviceGroupsProvider","loaderCtrl","translate","storage","iab","get","subscribe","value","presentLoader","getCounties","data","JSON","stringify","meetingListArea","parse","meetingListCounties","console","log","isLoaded","i","length","location_sub_province","uniqueCounties","Set","map","dismissLoader","getMeetingsByCounty","countyName","HTMLGrouping","getAllMeetings","meetingListCounty","filter","meeting","loaderText","loader","present","dismiss","showCountyStructure","shownDay","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}